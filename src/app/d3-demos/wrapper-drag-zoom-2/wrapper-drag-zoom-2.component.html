<mat-card>
  <mat-card-header>
    <div class="mat-headline">
      Drag & Zoom II
    </div>
  </mat-card-header>
  <mat-card-content>
    <div fxLayout="column" fxLayoutAlign="start center">
      <div fxFlex>
        <p class="mat-caption">
          Demonstrate how to:
        </p>
        <ul class="mat-caption">
          <li>
            build an Angular component which uses a D3 service to render to <code>&lt;svg&gt;</code>,
          </li>
          <li>
            use D3 version 4 in TypeScript to handle drag and zoom/pan events, and
          </li>
          <li>
            use Angular to respond to input changes to a reusable D3 component.
          </li>
        </ul>
      </div>
      <div fxFlex>
        <div fxLayout="row" fxLayoutWrap fxLayoutAlign="space-around start">
          <div fxFlex="45%" [fxFlex.lt-md]="'90%'">
            <h4 class="mat-headline">Reference</h4>
            <p class="text-justify">
              This example is based on <b>Mike Bostock's Drag & Zoom II Block</b>. The original source with its supporting explanation
              can be found by following the link below.
            </p>
            <p>
              <em>Source:</em> <a href="https://bl.ocks.org/mbostock/3127661b6f13f9316be745e77fdfb084">Drag & Zoom II Block</a>.
            </p>
          </div>
          <div fxFlex="45%" [fxFlex.lt-md]="'90%'">
            <h4 class="mat-headline">D3 Angular Implementation</h4>
            <p class="text-justify">
              The implementation is a straightforward Angular component without any inputs. Its template is an <code>&lt;svg&gt;</code>        element with fixed dimensions. The component renders the visualization using the <code>d3</code> instance provided
              by the injected <code>D3Service</code>.
            </p>
            <p class="text-justify">
              The D3 component can be embedded into a parent component using the following tag:
            </p>
            <p>
              <code>&lt;app-brush-zoom-2&gt;&lt;/app-brush-zoom-2&gt;</code>.
            </p>
            <p class="text-justify">
              The source code for the D3 component can be found at:
            </p>
            <p>
              <a href="https://github.com/tomwanzek/d3-ng2-demo/tree/master/src/app/d3-demos/brush-zoom-2">Brush Zoom II D3 Component</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- TODO: Improve responsive flow of settings table and actual visualization using flex-layout -->
    <div>
      <!-- TODO: Refactor/reformat table to use material -->
      <table class="table">
        <thead>
          <tr>
            <th colspan="4" class="text-center">
              <small><em>Choose Layout:</em></small>
              <span class="btn-group">
                <button matButton color="primary" *ngFor="let layout of dragZoom2Layouts"
                (click)="onActiveButtonChange(layout)" [class.active]="layout === selectedLayout" [ngClass]="'layout-' + layout.name">
                  {{layout.name}}
                </button>
              </span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="info">Width</th>
            <td>{{selectedLayout.width}}</td>
            <th class="info">Height</th>
            <td>{{selectedLayout.height}}</td>
          </tr>
          <tr>
            <th class="info">Radius (Phyllotaxis)</th>
            <td>{{selectedLayout.phylloRadius}}</td>
            <th class="info">Radius (Point)</th>
            <td>{{selectedLayout.pointRadius}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="visualization">
      <app-drag-zoom-2 [width]="selectedLayout.width" [height]="selectedLayout.height" [phylloRadius]="selectedLayout.phylloRadius"
      [pointRadius]="selectedLayout.pointRadius"></app-drag-zoom-2>
    </div>
  </mat-card-content>
</mat-card>

